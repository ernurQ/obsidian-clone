(()=>{"use strict";const e=document.querySelector(".modal"),t=e.querySelector(".modal__content");function n(){e.classList.remove("modal_active"),t.innerHTML='\n        <div class="modal__close-btn">&times;</div>\n    '}e.addEventListener("click",(e=>{const t=e.target;null!=t&&(t.classList.contains("modal")||t.classList.contains("modal__close-btn"))&&n()}));class s{constructor(e,t,n){this.content=t,this.path=n,this.title=e}get id(){return this.title}_renderNotesPanel(){const e=document.createElement("li");e.classList.add("notes-panel__note"),e.textContent=this.title,document.querySelector(".notes-panel__list").append(e)}_renderNoteTab(){const e=document.createElement("li");e.classList.add("tab"),e.innerHTML=`\n            <div class="tab__content">${this.title}</div>\n            <div class="tab__close-btn">&times;</div>\n        `,document.querySelector(".tabs-list").append(e)}_renderNoteContent(){const e=document.createElement("input");e.classList.add("note__header"),e.type="text",e.value=this.title;const t=document.createElement("textarea");t.classList.add("note__content"),t.value=this.content;const n=document.createElement("div");n.classList.add("note"),n.append(e),n.append(t),document.querySelector(".workspace__notes").append(n)}render(){this._renderNotesPanel(),this._renderNoteTab(),this._renderNoteContent()}}const a=document.querySelector(".workspace__notes");function o(e){a.querySelectorAll(".note").forEach((t=>{t.querySelector(".note__header").value!==e?t.classList.remove("note_active"):t.classList.add("note_active")}))}document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelector(".navbar__notes-panel-btn"),t=document.querySelector(".notes-panel");e.addEventListener("click",(()=>{t.classList.toggle("notes-panel_collapsed")}))}(),function(a){const c=document.createElement("form");c.innerHTML='\n        <form action="#" class="modal__form">\n        <label class="modal__label">\n            Note title\n            <input class="modal__input" name="title">\n        </label>\n        <label class="modal__label">\n            Note path\n            <input class="modal__input" placeholder="/" name="path">\n        </label>\n\n        <button class="modal__submit">create</button>\n        </form>\n    ',a.addEventListener("click",(()=>{var n;n=c,e.classList.add("modal_active"),t.append(n)})),c.addEventListener("submit",(e=>{e.preventDefault();let{title:t,path:a}=Object.fromEntries(new FormData(c).entries());""===a&&(a="/"),""!==t&&(c.reset(),n(),new s(t,"",a).render(),o(t))}))}(document.querySelector(".notes-panel__buttons").querySelector(".notes-panel__new-note")),function(){const e=document.querySelector(".tabs-list");function t(t){e.querySelectorAll(".tab").forEach((e=>{e.classList.remove("tab_active")})),t.classList.add("tab_active"),o(t.querySelector(".tab__content").textContent)}e.addEventListener("click",(e=>{const n=e.target;if(null!==n){if(n.classList.contains("tab__close-btn")){const e=n,t=n.parentElement;return t.classList.add("tab_collapsed"),e.remove(),void setTimeout((()=>{t.remove()}),250)}if(n.classList.contains("tab__content")){if(n.parentElement.classList.contains("tab_active"))return;t(n.parentElement)}if(n.classList.contains("tab")){if(n.classList.contains("tab_active"))return;t(n)}}}))}()}))})();