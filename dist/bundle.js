(()=>{"use strict";const t=document.querySelector(".modal"),e=t.querySelector(".modal__content");function n(){t.classList.remove("modal_active"),e.innerHTML='\n        <div class="modal__close-btn">&times;</div>\n    '}t.addEventListener("click",(t=>{const e=t.target;null!=e&&(e.classList.contains("modal")||e.classList.contains("modal__close-btn"))&&n()}));class s{constructor(t,e,n){this.content=e,this.path=n,this.title=t}get id(){return this.title}_renderNotesPanel(){const t=document.createElement("li");t.classList.add("notes-panel__note"),t.textContent=this.title,document.querySelector(".notes-panel__list").append(t)}_renderNoteTab(){const t=document.createElement("li");t.classList.add("tab"),t.innerHTML=`\n            <div class="tab__content">${this.title}</div>\n            <div class="tab__close-btn">&times;</div>\n        `,document.querySelector(".tabs-list").append(t)}_renderNoteContent(){const t=document.createElement("input");t.classList.add("note__header"),t.type="text",t.value=this.title;const e=document.createElement("textarea");e.classList.add("note__content"),e.value=this.content;const n=document.createElement("li");n.classList.add("note"),n.append(t),n.append(e),document.querySelector(".workspace__notes").append(n)}render(){this._renderNotesPanel(),this._renderNoteTab(),this._renderNoteContent()}}const a=document.querySelector(".workspace__notes");function o(t){a.querySelectorAll(".note").forEach((e=>{e.querySelector(".note__header").value!==t?e.classList.remove("note_active"):e.classList.add("note_active")}))}const c=document.querySelector(".tabs-list");function l(t){c.querySelectorAll(".tab").forEach((e=>{e.querySelector(".tab__content").textContent!==t?e.classList.remove("tab_active"):e.classList.add("tab_active")})),o(t)}document.addEventListener("DOMContentLoaded",(()=>{!function(){const t=document.querySelector(".navbar__notes-panel-btn"),e=document.querySelector(".notes-panel");t.addEventListener("click",(()=>{e.classList.toggle("notes-panel_collapsed")}))}(),function(a){const c=document.createElement("form");c.innerHTML='\n        <form action="#" class="modal__form">\n        <label class="modal__label">\n            Note title\n            <input class="modal__input" name="title">\n        </label>\n        <label class="modal__label">\n            Note path\n            <input class="modal__input" placeholder="/" name="path">\n        </label>\n\n        <button class="modal__submit">create</button>\n        </form>\n    ',a.addEventListener("click",(()=>{var n;n=c,t.classList.add("modal_active"),e.append(n)})),c.addEventListener("submit",(t=>{t.preventDefault();let{title:e,path:a}=Object.fromEntries(new FormData(c).entries());""===a&&(a="/"),""!==e&&(c.reset(),n(),new s(e,"",a).render(),l(e),o(e))}))}(document.querySelector(".notes-panel__buttons").querySelector(".notes-panel__new-note")),c.addEventListener("click",(t=>{const e=t.target;if(null!==e){if(e.classList.contains("tab__close-btn")){const t=e,n=e.parentElement;return n.classList.add("tab_collapsed"),t.remove(),void setTimeout((()=>{n.remove()}),250)}if(e.classList.contains("tab__content")){if(e.parentElement.classList.contains("tab_active"))return;l(e.textContent)}if(e.classList.contains("tab")){if(e.classList.contains("tab_active"))return;l(e.textContent)}}}))}))})();